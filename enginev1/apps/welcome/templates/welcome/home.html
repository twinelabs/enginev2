{% extends 'sidebar_page.html' %}
{% load staticfiles %}

{% block title %}Home{% endblock %}
{% block header_block %}
    <div class="col-sm-8">
        <h2 class="headerLine">Home</h2>
    </div>
    <div class="col-sm-4 header-buttons">
        <a href="#" class="header-button btn btn-default">Settings</a>
    </div>
{% endblock %}
{% block content_block %}
<div class="well well-lg">
    <h3>Data Sets</h3>
    <div class="row">
        <div class="col-sm-4 homeContainer center-block">
            <div class="homeContainerLabel">
                &nbsp;
            </div>
            <img class="dataset-img center-block" src="{% static "img/dataset2_add.png" %}" />
            <a href="/dataset/upload_csv" class="btn btn-primary center-block">Create New</a>
        </div>
        {% for data_table in data_tables %}
            <div class="col-sm-4 homeContainer center-block">
                <div class="homeContainerLabel">
                    <strong>{{ data_table.name }}</strong> (n={{ data_table.n_rows }})
                </div>
                <img class="dataset-img center-block" src="{% static "img/dataset2.png" %}" />
                <a href="/dataset/view/{{ data_table.id }}" class="btn btn-primary center-block">View</a>
                <a href="/dataset/analytics/{{ data_table.id }}" class="btn btn-info center-block">Analytics</a>
                <a href="#" class="btn btn-danger center-block" data-toggle="modal" data-target="#deleteModal{{ data_table.id }}">Delete All</a>
            </div>
            <div class="modal fade" id="deleteModal{{ data_table.id }}" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel{{ data_table.id }}">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="deleteModalLabel{{ data_table.id }}">Delete Data Set</h4>
                        </div>
                        <div class="modal-body">
                            Are you sure you want to delete the data set: {{ data_table.name }}? This action is irreversible.
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                            <a href="/dataset/delete/{{ data_table.id  }}" type="button" class="btn btn-danger">Delete</a>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}

    </div>
</div>
<div class="well well-lg">
    <h3>Matches</h3>
    <div class="row">
        <div class="col-sm-4 homeContainer center-block">
            <div class="homeContainerLabel">
                &nbsp;
            </div>
            <img class="match-img center-block" src="{% static "img/match_add.png" %}" />
            <a href="/match/create" class="btn btn-primary center-block">Create Match</a>
        </div>
        {% for match in matches %}
            <div class="col-sm-4 homeContainer center-block">
                <div class="homeContainerLabel">
                    <strong>{{ match.name }}</strong>
                </div>
                <img class="match-img center-block" src="{% static "img/match.png" %}" />
                <a href="/match/view/{{ match.id }}" class="btn btn-primary center-block">Results</a>
                <a href="/match/analyze/{{ match.id }}" class="btn btn-info center-block">Analytics</a>
                <a href="/match/feedback/{{ match.id }}" class="btn btn-success center-block">Feedback</a>
                <a href="#" class="btn btn-danger center-block" data-toggle="modal" data-target="#deleteModalMatch{{ match.id }}">Delete Match</a>
            </div>
            <div class="modal fade" id="deleteModalMatch{{ match.id }}" tabindex="-1" role="dialog" aria-labelledby="deleteModalMatchLabel{{ match.id }}">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="deleteModalMatchLabel{{ match.id }}">Delete Match</h4>
                        </div>
                        <div class="modal-body">
                            Are you sure you want to delete the match: {{ match.name }}? This action is irreversible.
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                            <a href="/match/delete/{{ match.id }}" type="button" class="btn btn-danger">Delete</a>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>


<div class="dropup">
  <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
    Additional Pages
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
    <li><a href="/match/create_employeerole">Create Employee/Role Match</a></li>
    <li><a href="/match/feedback_employeerole">Feedback for Employee/Role</a></li>
    <li><a href="/match/feedback">Feedback Basic</a></li>
  </ul>
</div>

{% endblock %}